spring:
  main:
    allow-bean-definition-overriding: true

  datasource:
    url: jdbc:postgresql://localhost:5432/visit_scheduler
    username: visit_scheduler
    password: visit_scheduler

  jpa:
    show-sql: true

  security:
    oauth2:
      resourceserver:
        jwt:
          public-key-location: classpath:local-public-key.pub

server:
  shutdown: immediate

management.endpoint:
  health.cache.time-to-live: 0
  info.cache.time-to-live: 0

hmpps.auth.url: http://localhost:8090/auth

prison:
  api:
    url: http://localhost:8092
    timeout: 5s

policy:
  session:
    non-association:
      filter: true
      whole-day: true
    double-booking:
      filter: false
    booking-notice-period:
      minimum-days: 2
      maximum-days: 28

task:
  expired-visit:
    enabled: false
    cron: 0/30 * * * * ?
    validity-minutes: 3

hmpps.sqs:
  provider: localstack
  queues:
    domaineventsqueue:
      queueName: ${random.uuid}
      subscribeTopicId: domainevents
  topics:
    domainevents:
      arn: arn:aws:sns:eu-west-2:000000000000:${random.uuid}

feature:
  events:
    sns:
      enabled: true